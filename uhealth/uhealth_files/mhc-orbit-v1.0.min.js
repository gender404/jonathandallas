"use strict";window.mhc_orbit=window.hg_edp=function(){if(void 0!==window.mhc_orbit&&window.mhc_orbit.main)return window.mhc_orbit.main(),window.mhc_orbit;var e={init:function(){var n=e.profile.trackingVars;for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];delete e.state.valuePairs[o]}e.modules.loadModules.apply(e),t.main(),e.utility.documentReady()&&e.utility.attachObserver(window),e.utility.documentReady()||e.utility.waitDocumentReady()},buffer:{anchors:[],formfields:[],iframes:[],rerunQueued:null,windows:[window]},config:{captureURL:1,cookiePrefix:"mhc_",disabled:0,hgCustomLabel:"",parseURL:1,setFormFields:1,setLinks:1,trackExternalLinks:1,trackingFlag:".mhc-campaign,[mhc-campaign]",trackSubdomains:1,useCookies:1,useGA:1,useObservers:1,useStorage:1},data:{getLocation:function(){return e.config.captureURL?(e.location={hostname:window.location.hostname,href:window.location.href,search:window.location.search,hash:window.location.hash},e.location=window.location,1):null},getValue:function(t){return t?"string"!=typeof t?"":e.state.valuePairs[t]:""},resetData:function(){e.state.queryString=[],e.state.externalElements=[],e.buffer.anchors=[],e.buffer.formfields=[],e.data.getLocation();var t=e.profile.trackingVars,n=e.state.valuePairs;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[t[r]]="");return n.campaign_url=e.location.href,n.hgcrm_campaign_url=e.location.href,1},save:function(t,n){if(!t||!n)return null;var r=e.utility.contains(t);return r?(e.storage.setCookie(t,n),e.storage.setSessionKey(t,n),e.data.setValue(t,n),1):null},setValue:function(t,n){if(!t||!n)return null;if("string"!=typeof t)return null;if(["string","number"].indexOf(typeof n))return null;var r=e.utility.contains(t),o=~e.profile.skipParams.indexOf(t),i=e.state.queryString,a=~i.join("&").indexOf(t+"=");return!r||o||a||(i.push(t+"="+encodeURIComponent(n)),i.sort()),r&&(e.state.valuePairs[t]=n.trim()),1}},flags:{hasCookies:null,hasStorage:null,hasTracking:null,hasURLParams:null,supportsCookies:null,supportsStorage:null},googleAnalytics:{ga:function(){var t,n=e.googleAnalytics.readGA();return e.config.useGA&&(t=n)&&e.data.save("ga_cid",t),1},readGA:function(){if(!e.config.useGA)return null;if(!window.ga||!ga.getAll)return null;var t,n,r=function(){return n=t[0].getValue("clientId"),!!n.length&&n},o=function(){var e=t[0]&&t[0].getValue;return!(!t.length||!e)&&r()};return!!(t=ga.getAll())&&o()}},location:{hash:window.location.hash,hostname:window.location.hostname,href:window.location.href,search:window.location.search},modules:{loadModules:function(){if(window.mhc_modules)for(var t in window.mhc_modules)Object.prototype.hasOwnProperty.call(window.mhc_modules,t)&&window.mhc_modules[t].apply(e);return delete window.mhc_modules,this},postload:function(){var t=Object.prototype.hasOwnProperty,n=e.state.postloadModules;for(var r in n)t.call(n,r)&&"function"==typeof n[r]&&n[r].apply(e);return 1},preload:function(){var t=Object.prototype.hasOwnProperty,n=e.state.preloadModules;for(var r in n)t.call(n,r)&&"function"==typeof n[r]&&n[r].apply(e);return 1},setPostload:function(t,n){if(!t)return null;if("function"!=typeof n)return null;var r=e.state.postloadModules;return r[t]?1:(r[t]=n,1)},setPreload:function(t,n){if(!t)return null;if("function"!=typeof n)return null;var r=e.state.preloadModules;return r[t]?1:(r[t]=n,1)}},process:{appendFlagged:function(){if(!e.state.queryString.length)return null;if(!e.config.trackingFlag)return null;if(!e.flags.hasTracking)return null;for(var t=e.config.trackingFlag,n=e.buffer.windows,r=0,o=n.length;r<o;r++){var i=e.utility.getDocument(n[r]);if(i)for(var a=i.querySelectorAll(t),u=0,l=a.length;u<l;u++)e.process.setURL(a[u])}return 1},findElements:function(){function t(t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n];r(o)&&(~e.buffer.formfields.indexOf(o)||e.buffer.formfields.push(o))}}function n(t){var n=e.config.trackSubdomains;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=t[o],a="A"===i.nodeName,u=e.buffer.anchors,l=e.utility.isSubdomain,s=e.utility.isExternalDomain;a&&r(i)&&e.config.setLinks&&(l(i)&&!n||s(i)&&(~u.indexOf(i)||u.push(i)))}}function r(e){var t=!1;for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)){var r=o[n];e&&void 0!==e[r]&&(t=!0)}return t}var o=e.profile.targetAttributes;e.utility.hgCustom();var i=e.buffer.windows;for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var u=i[a],l=e.utility.getDocument(u);l&&(n(l.getElementsByTagName("a")),t(l.getElementsByTagName("input")))}return 1},parseURL:function(){if(!e.config.parseURL)return null;if(!e.location)return null;if(!e.location.search)return null;var t=function(t,n,r){e.data.save(n,r.trim())};return e.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,t),e.data.save("hgcrm_campaign_url",e.location.href),e.data.save("campaign_url",e.location.href),e.googleAnalytics.ga(),1},preflight:function(){var t=!1,n=!1,r=!1,o=e.config.cookiePrefix,i=e.profile.trackingVars,a=e.utility.storageSupported(),u=e.utility.cookieSupported();for(var l in e.flags.supportsStorage=a,e.flags.supportsCookies=u,e.config.useStorage=1,e.config.useCookies=0,i)if(Object.prototype.hasOwnProperty.call(i,l)){var s=i[l];if(a&&!r){var c=window.sessionStorage,f=c.getItem.bind(c);r=Boolean(f(o+s))}if(u&&!n){var d=window.document.cookie;n=d.indexOf(o+s)>-1}if(!t){var g=e.location.search;t=Boolean(~g.indexOf(s))}}return e.flags.supportsCookies||(e.config.useCookies=0),n&&(e.config.useCookies=1),r&&(e.config.useStorage=1),e.flags.hasURLParams=t,e.flags.hasCookies=n,e.flags.hasStorage=r,e.flags.hasTracking=t||n||r,e.flags.hasTracking},readInputs:function(){return e.process.parseURL(),e.storage.importCookie(),e.storage.importSession(),1},setCustom:function(){var t,n,r=e.profile.trackingVars,o=e.profile.customSelector;if(!e.state.queryString)return null;if(!o)return null;if(!e.flags.hasTracking)return null;if("function"!=typeof o)return null;var i=function(){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(i.getAttribute&&!i.getAttribute("data-mhc-done")){var a="INPUT"===i.nodeName,u="TEXTAREA"===i.nodeName,l=e.data.getValue(n);l&&l.length&&(a&&i.setAttribute("value",l),u&&i.append(l),i.setAttribute("data-mhc-done","1"))}}},a=function(){for(var r=0,o=l.length;r<o;r++){var a=e.utility.getDocument(l[r]);if(a){var u=e.profile.customSelector(n);u&&("object"==typeof u&&"INPUT"===u.nodeName&&(t=[u]),"string"==typeof u&&(t=a.querySelectorAll(u)),t&&i())}}};for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){n=r[u];var l=e.buffer.windows;a()}return 1},setElements:function(){return e.process.setCustom(),e.process.setFormFields(),e.process.setLinks(),e.process.appendFlagged(),1},setFormFields:function(){if(!e.config.setFormFields)return null;if(!e.state.queryString)return null;if(!e.flags.hasTracking)return null;var t=e.profile.targetAttributes,n=e.buffer.formfields,r=function(){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n],o=i.getAttribute(r);if(o&&e.utility.contains(o))return o}return null};for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o],a=i.labels;if("INPUT"===i.nodeName&&(i.attributes||a)&&i.getAttribute){var u=r();if(u){var l=e.data.getValue(u);l&&l.length&&i.setAttribute("value",l)}}}return 1},setLinks:function(){if(!e.state.queryString)return null;if(!e.config.setLinks)return null;if(!e.flags.hasTracking)return null;for(var t=e.buffer.anchors,n=0,r=t.length;n<r;n++){var o=t[n];"A"===o.nodeName&&(o.attributes&&(o.getAttribute("data-mhc-done")||(e.process.setURL(o),o.setAttribute("data-mhc-done","1"))))}return 1},setURL:function(t){if(!t||!t.setAttribute)return null;if(t.getAttribute("data-mhc-done"))return null;if(!t.href&&!t.src)return null;var n=t.href?t.href:t.src,r=e.utility.mergeQueryString(n);return t.href&&t.setAttribute("href",r),t.src&&t.setAttribute("src",r),t.setAttribute("data-mhc-done","1"),e.state.externalElements.push(t),1}},profile:{customSelector:null,skipParams:["ga_cid","hgcrm_campaign_url","campaign_url"],targetAttributes:["name","id","title","data-export-label","hg-track-field-name","placeholder"],trackingVars:["agency","campaign_url","channel","cif_no","ga_cid","hgcampaignid","hgcrm_agency","hgcrm_campaignid","hgcrm_campaign_url","hgcrm_channel","hgcrm_promoted_facility","hgcrm_promoted_serviceline","hgcrm_source","hgcrm_tacticid","hgcrm_trackingsetid","hospital","jobnumber","keyword","matchtype","placement","serviceline","target","utm_campaign","utm_content","utm_medium","utm_source","utm_term"]},state:{eventHandles:{observeDOM:[]},externalElements:[],postloadModules:{},preloadModules:{},queryString:[],valuePairs:{}},storage:{importCookie:function(){var t=e.config.useCookies;if(!t)return null;if(!window.document.cookie||!window.document.cookie.length)return null;if(!e.flags.hasCookies)return null;var n=window.document.cookie.split(";"),r=e.config.cookiePrefix;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o].split("=");if(2===i.length){var a=i[0].trim().replace(r,"");if(a){var u=e.utility.contains(a);u&&e.data.setValue(a,i[1].trim())}}}return 1},importSession:function(){var t=e.config.useStorage;if(!t)return null;if(!e.flags.hasStorage)return null;var n=e.config.cookiePrefix,r=e.profile.trackingVars;for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var i=r[o],a=window.sessionStorage,u=a.getItem(n+i);e.data.setValue(i,u)}return 1},removeCookie:function(t){if(!t)return null;if("string"!=typeof t)return null;var n=e.config.cookiePrefix,r=n+t;return window.document.cookie=r+"=; expires=0; path=/",1},removeSessionKey:function(t){if(!t)return null;if("string"!=typeof t)return null;var n=e.flags.supportsStorage,r=e.config.useStorage,o=e.config.cookiePrefix;return r&&n?(window.sessionStorage.removeItem(o+t),1):null},setCookie:function(t,n){if(!t||!n)return null;if("string"!=typeof t)return null;if("string"!=typeof n)return null;var r=e.config.useCookies,o=e.config.cookiePrefix,i=e.utility.contains(t);if(!r)return null;if(!i)return null;var a=new Date;a.setTime(a.getTime()+864e5);var u="; expires="+a.toUTCString();t=o+t;var l=t+"="+n;return window.document.cookie=l+u+"; path=/",1},setSessionKey:function(t,n){if(!t||!n)return null;if("string"!=typeof t)return null;if("string"!=typeof n)return null;var r=e.utility.contains(t),o=e.config.useStorage,i=e.config.cookiePrefix;return o&&r?(e.flags.hasStorage=1,window.sessionStorage.setItem(i+t,n),1):null}},utility:{attachObserver:function(t){if(!e.config.useObservers)return null;var n=t.contentDocument||t.document;if(!n||!n.body)return null;var r=e.utility.observeDOM,o=e.utility.manageDOM,i=r(t,n.body,o);return e.state.eventHandles.observeDOM.push(i),1},contains:function(t){return t?e.profile.trackingVars.indexOf(t)>-1:null},cookieSupported:function(){var t="mhc_temp",n=window.navigator&&window.navigator.cookieEnabled,r=!!n,o=e.config.cookiePrefix;return void 0!==n||r||(window.document.cookie=o+t+"="+t,r=-1!==window.document.cookie.indexOf(t),e.storage.removeCookie(t)),r},documentReady:function(e=window.document){if(!e||!e.readyState)return null;var t=e.readyState,n="complete"===t,r="loaded"===t,o="interactive"===t;return n||r||o},getDocument:function(e){if(!e)return null;try{if("UnitTest"===e)throw new Error("cross-domain simulation");return e.contentDocument||e.document}catch(e){return null}},hgCustom:function(t){if(void 0!==window.getHGCustomLabel&&(e.config.hgCustomLabel=window.getHGCustomLabel()),"function"==typeof t&&(e.config.hgCustomLabel=t()),"string"==typeof t&&(e.config.hgCustomLabel=t),!e.config.hgCustomLabel.length)return null;var n=e.config.hgCustomLabel,r=e.profile.targetAttributes,o=r.indexOf(n);return~o||r.push(n),1},integrateIframes:function(n){for(var r=0,o=n.length;r<o;r++){var i=n[r];if(!~e.buffer.iframes.indexOf(i)){e.buffer.iframes.push(i);var a=i.contentWindow,u=i.contentDocument,l=e.buffer.windows;i.onload=t.main,a&&u&&(~l.indexOf(a)||l.push(a),e.utility.documentReady(u)?t.main():e.utility.waitDocumentReady(a))}}},isExternalDomain:function(t){return t&&t.href&&t.hostname?t.hostname!==e.location.hostname:null},isSubdomain:function(t){if(!t||!t.hostname)return null;var n=e.utility.primaryDomain(e.location.hostname),r=e.utility.primaryDomain(t.hostname);return r===n},manageDOM:function(n){function r(n){if(!n||!n.nodeName)return null;var r="A"===n.nodeName,o="FORM"===n.nodeName,i="IFRAME"===n.nodeName;return(r||o||i)&&n.getAttribute?e.state.rerunQueued?null:(i&&e.utility.integrateIframes([n]),void t.main()):null}function o(e){for(var t=0,n=e.length;t<n;t++)r(e[t])}if(!n)return null;if(n.forEach&&n.forEach(e=>{o(e.addedNodes)}),!n.forEach)for(var i=0,a=n.length;i<a;i++)n[i].addedNodes.length&&o(n[i].addedNodes);return 1},mergeQueryString:function(t){if("string"!=typeof t)return null;if(!t.length)return t;var n=t.match(/\?[^=]+=[^&]+/i),r=~t.indexOf("?"),o=n?"&":r?"":"?",i=t.indexOf("#"),a=~i?t.slice(i):null,u=e.state.queryString.join("&");if(a){var l=t.slice(0,i);return l+o+u+a}return t+o+u},observeDOM:function(e,t,n){var r=e.MutationObserver,o=e.WebKitMutationObserver,i=r||o;return t&&1===t.nodeType?i?(new i(n).observe(t,{childList:!0,subtree:!0}),i):!i&&e.addEventListener?(t.addEventListener("DOMNodeInserted",n,!1),1):void 0:null},primaryDomain:function(e){return e.split(".").slice(-2).join(".")},storageSupported:function(){var e="mhc_temp";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.getItem(e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}},waitDocumentReady:function(n=window){var r=e.utility.getDocument(n);if(!r)return null;if(!r.addEventListener)return null;var o=e.utility.documentReady(r),i=function(){e.utility.attachObserver(n),t.main()};if(!o){e.modules.loadModules.apply(e);var a={once:!0};r.addEventListener("DOMContentLoaded",i,a),r.addEventListener("load",i,a),r.addEventListener("onreadystatechange",i,a)}return o&&(e.utility.attachObserver(window),t.main()),1}}},t={init:function(t){return e.modules.loadModules(),e.config.disabled?null:("undefined"!=typeof console&&console.info&&console.info("MHC Orbit v1.0 Loaded"),e.utility.hgCustom(t),e.process.preflight()?(e.init(),this):this)},main:function(t=!0){function n(){e.state.rerunQueued=null,e.modules.preload(),e.process.readInputs(),e.process.findElements(),e.process.setElements(),e.modules.postload()}if(e.config.disabled)return null;if(e.state.rerunQueued)return null;e.modules.loadModules();var r=document.getElementsByTagName("iframe");return e.utility.integrateIframes(r),t&&(e.state.rerunQueued=window.setTimeout(n,100)),t||n(),1},loadModule:function(t){return"function"!=typeof t?null:(t.apply(e),this)},unload:function(){return window.mhc_orbit=null,window.hg_edp=null,delete window.mhc_orbit,1}};e.data.getLocation();var n="function"==typeof window.getHGCustomLabel;return t.init(n?window.getHGCustomLabel():null)}();